<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>لوحة التحكم - السقا</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="logo"><a href="home.html">السقا</a></div>
            <button class="hamburger" aria-label="القائمة" onclick="toggleMobileNav()"><span></span><span></span><span></span></button>
            <nav class="nav">
                <a href="#" onclick="showSection('products-section')">المنتجات</a>
                <a href="#" onclick="showSection('users-section')">المستخدمين</a>
                <a href="#" onclick="showSection('orders-section')">الطلبات</a>
                <a href="#" onclick="showSection('favorites-section')">المفضلة</a>
                <a href="#" onclick="logoutAdmin()">تسجيل خروج</a>
            </nav>
        </div>
    </header>

    <main style="padding:3rem 2rem; max-width:1300px; margin:0 auto;">
        <h1 style="margin-bottom:2rem; font-size:2.2rem; display:flex; align-items:center; gap:.6rem;">
            <img src="icons/chart.svg" alt="" style="width:40px;"> لوحة التحكم
        </h1>

        <div style="display:grid; gap:1.2rem; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); margin-bottom:2.5rem;">
            <div class="product-card" id="statProducts" style="padding:1.2rem;">
                <h3 style="margin:0 0 .5rem; font-size:1.1rem;">عدد المنتجات</h3>
                <div style="font-size:2rem; font-weight:700;" id="productsCount">0</div>
            </div>
            <div class="product-card" id="statUsers" style="padding:1.2rem;">
                <h3 style="margin:0 0 .5rem; font-size:1.1rem;">عدد المستخدمين</h3>
                <div style="font-size:2rem; font-weight:700;" id="usersCount">0</div>
            </div>
            <div class="product-card" style="padding:1.2rem;">
                <h3 style="margin:0 0 .5rem; font-size:1.1rem;">عدد الطلبات</h3>
                <div style="font-size:2rem; font-weight:700;" id="ordersCount">0</div>
            </div>
        </div>

        <div style="display:flex; gap:1rem; flex-wrap:wrap; margin-bottom:2rem;">
            <button class="btn-outline" onclick="showSection('products-section')">إدارة المنتجات</button>
            <button class="btn-outline" onclick="showSection('users-section')">المستخدمون</button>
            <button class="btn-outline" onclick="showSection('orders-section')">الطلبات</button>
            <button class="btn-outline" onclick="showSection('favorites-section')">إدارة المفضلة</button>
        </div>

        <section id="products-section" style="display:block;">
            <h2 style="display:flex; align-items:center; gap:.5rem;"><img src="icons/package.svg" style="width:30px;" alt=""> إدارة المنتجات</h2>
            <form id="addProductForm" style="display:flex; flex-direction:column; gap:1rem; margin-bottom:2rem; max-width:520px;">
                <input type="text" id="productName" placeholder="اسم المنتج" required>
                <input type="number" id="productPrice" placeholder="السعر" required>
                <input type="text" id="productDesc" placeholder="الوصف" required>
                <select id="productCategory" required>
                    <option value="">اختر الفئة</option>
                    <option value="مطبخ">أدوات المطبخ</option>
                    <option value="تخزين">أواني وتخزين</option>
                    <option value="تنظيف">أدوات التنظيف</option>
                    <option value="منوعات">بلاستيك ومنوعات</option>
                </select>
                <input type="number" id="productStock" placeholder="الكمية" required>
                <div style="display:flex; flex-direction:column; gap:0.5rem;">
                    <label style="font-weight:600; font-size:0.95rem;">صورة المنتج:</label>
                    <input type="file" id="productImage" accept="image/*" style="padding:0.5rem; border:1px solid var(--border-color); border-radius:8px; background:var(--bg-secondary);">
                    <div id="imagePreview" style="display:none; margin-top:0.5rem;">
                        <img id="previewImg" style="max-width:100%; max-height:200px; border-radius:8px; border:2px solid var(--primary-color);">
                    </div>
                </div>
                <div id="productErrors" style="display:none; background:rgba(231,76,60,0.12); border:1px solid rgba(231,76,60,0.4); padding:.75rem; border-radius:8px; color:#E74C3C; font-size:.9rem; line-height:1.4;"></div>
                <button type="submit" class="btn btn-primary">إضافة منتج</button>
            </form>
            <div id="productsAdminGrid" class="grid-3"></div>
        </section>

        <section id="users-section" style="display:none;">
            <h2 style="display:flex; align-items:center; gap:.5rem;"><img src="icons/user.svg" style="width:30px;" alt=""> المستخدمون</h2>
            <div id="usersContainer"></div>
        </section>

        <section id="favorites-section" style="display:none;">
            <h2 style="display:flex; align-items:center; gap:.5rem;"><img src="icons/heart.svg" style="width:30px;" alt=""> إدارة المفضلة</h2>
            <p style="opacity:.8; margin-bottom:1rem;">عدد العناصر في المفضلة: <strong id="favoritesCount">0</strong></p>
            <div id="adminFavoritesGrid" class="grid-3"></div>
        </section>

        <section id="orders-section" style="display:none;">
            <h2 style="display:flex; align-items:center; gap:.5rem;"><img src="icons/package.svg" style="width:30px;" alt=""> الطلبات</h2>
            <p style="opacity:.8; font-size:1.05rem;">لا يوجد نظام طلبات حقيقي حالياً. سيتم تطويره لاحقاً.</p>
            <div id="ordersContainer" style="margin-top:1rem;"></div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 شركة السقا. جميع الحقوق محفوظة</p>
        </div>
    </footer>

    <script src="app.js"></script>
</body>
</html>
